<!-- MAIN CONTENT -->
<div class="container py-5">
  <h2>List Of Collaborations</h2>

  <div class="collab-animation" *ngIf="showAnimation">
  <dotlottie-player
    src="https://lottie.host/dd3bc0e6-e1f2-4887-a4ff-45203157e143/P68zVGkJqe.lottie"
    background="transparent"
    speed="1"
    style="width: 450px; height: 450px"
    loop
    autoplay
  ></dotlottie-player>
  </div>
  <!-- FORM -->
  <div class="card shadow-sm rounded-4 mb-5">
    <div class="card-header bg-secondary text-white">
      <h5 class="m-0">Create New Collaboration</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="addCollaboration()">
        <div class="mb-3">
          <label for="chatTitle" class="form-label">Chat Title</label>
          <input
            type="text"
            id="chatTitle"
            class="form-control"
            [(ngModel)]="newCollaboration.chatTitle"
            name="chatTitle"
            required
          />
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea
            id="description"
            class="form-control"
            rows="3"
            [(ngModel)]="newCollaboration.description"
            name="description"
            required
          ></textarea>
        </div>

        <button type="submit" class="btn btn-primary w-100 rounded-pill">
          <i class="bi bi-plus-circle me-1"></i> Create Collaboration
        </button>
      </form>
    </div>
  </div>

  <!-- LIST OF COLLABORATIONS -->
  <div class="card shadow-sm rounded-4">
    <div class="card-header bg-info text-white">
      <h5 class="m-0">Collaboration List</h5>
    </div>
    <div class="card-body">
      <ul class="list-group list-group-flush" *ngIf="collaborations.length > 0; else noCollab">
        <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let collab of collaborations">
          <div class="ms-2 me-auto">
            <div class="fw-bold">{{ collab.chatTitle }}</div>
            <p class="mb-1">{{ collab.description }}</p>
            <small class="text-muted">Created At: {{ collab.createdAt | date: 'medium' }}</small>
          </div>
          <button
            (click)="deleteCollaboration(collab.collaborationId)"
            class="btn btn-outline-danger btn-sm rounded-pill"
          >
            <i class="bi bi-trash3-fill"></i>
          </button>
        </li>
      </ul>

      <ng-template #noCollab>
        <div class="alert alert-warning text-center m-0" role="alert">
          <i class="bi bi-exclamation-circle-fill me-2"></i> No collaborations available.
        </div>
      </ng-template>
    </div>
  </div>
</div>
