<div class="container">
  <div class="card">
    <h2 class="text-center mb-4">{{ isEdit ? 'Modifier' : 'Créer' }} une Reward</h2>

    <div class="mb-3">
      <label for="type" class="form-label fw-bold">Type</label>
      <input
        type="text"
        id="type"
        class="form-control"
        [(ngModel)]="reward.type"
        name="type"
        required
        minlength="3"
        #typeCtrl="ngModel"
        [class.is-invalid]="typeCtrl.invalid && typeCtrl.touched"
        placeholder="Entrez le type de reward"
      />
      <div class="invalid-feedback" *ngIf="typeCtrl.invalid && typeCtrl.touched">
        <p *ngIf="typeCtrl.errors?.['required']">Le type est requis.</p>
        <p *ngIf="typeCtrl.errors?.['minlength']">Au moins 3 caractères sont requis.</p>
      </div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label fw-bold">Description</label>
      <textarea
        id="description"
        class="form-control"
        [(ngModel)]="reward.description"
        name="description"
        required
        minlength="5"
        #descCtrl="ngModel"
        [class.is-invalid]="descCtrl.invalid && descCtrl.touched"
        placeholder="Entrez la description de la reward"
      ></textarea>
      <div class="invalid-feedback" *ngIf="descCtrl.invalid && descCtrl.touched">
        <p *ngIf="descCtrl.errors?.['required']">La description est requise.</p>
        <p *ngIf="descCtrl.errors?.['minlength']">Au moins 5 caractères sont requis.</p>
      </div>
    </div>

    <div class="mb-3">
      <label for="dateAwarded" class="form-label fw-bold">Date d'attribution</label>
      <input
        type="date"
        id="dateAwarded"
        class="form-control"
        [(ngModel)]="reward.dateAwarded"
        name="dateAwarded"
        required
      />
    </div>

    <!-- Boutons -->
    <div class="btn-container">
      <button type="button" class="btn btn-success" (click)="saveReward()">💾 Enregistrer</button>
      <button type="button" class="btn btn-secondary" (click)="router.navigate(['/rewards'])">
        ❌ Annuler
      </button>
    </div>
  </div>
</div>
