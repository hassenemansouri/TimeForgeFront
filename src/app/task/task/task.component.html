
  <h2>List of Tasks</h2>

  <div class="task-animation" *ngIf="showAnimation">
    <dotlottie-player
      src="https://lottie.host/4acee261-a72c-42ab-b8f3-bb6b5eb1a456/w0c0OfWoJd.lottie"
      background="transparent"
      speed="1"
      loop
      autoplay
    ></dotlottie-player>
  </div>
   <div class="export-buttons">
    <button class="btn btn-success" (click)="exportToExcel()">📂 Export to Excel</button>
<input
    type="text"
    class="search-input"
    [(ngModel)]="searchText"
    placeholder="Search Tasks..."
  />
    <button class="btn btn-danger" (click)="exportToPDF()">📝 Export to PDF</button>
  </div>

<!-- <div class="filter-container mb-4">
  <div class="filter-box mb-3 p-3 border rounded shadow-sm bg-light">
    <input
      [(ngModel)]="filters.name"
      (input)="applyFilters()"
      placeholder="🔍 Search by name"
      class="form-control mb-2"
    />

    <select
      [(ngModel)]="filters.priority"
      (change)="applyFilters()"
      class="form-control mb-2"
    >
      <option value="">All priorities</option>
      <option value="HIGH">High</option>
      <option value="MEDIUM">Medium</option>
      <option value="LOW">Low</option>
    </select>
  </div>

  <div *ngIf="filters.name || filters.priority" class="active-filters mb-3">
    <span class="filter-badge" *ngIf="filters.name">
      🔍 "{{ filters.name }}"
      <button (click)="clearFilter('name')" class="btn-clear">&times;</button>
    </span>

    <span class="filter-badge" *ngIf="filters.priority">
      ⚡ {{ filters.priority | titlecase }}
      <button (click)="clearFilter('priority')" class="btn-clear">&times;</button>
    </span>
  </div>


</div> -->
  <div class="d-flex justify-content-center mb-4">

    <button class="btn btn-primary" [routerLink]="['/tasks/add']">
      ➕ Add Task
    </button>
  </div>


  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Created Date</th>
          <th>Due Date</th>
          <th>Priority</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasks">
          <td>{{ task.name }}</td>
          <td>{{ task.description }}</td>
          <td>{{ task.createdAt | date:'yyyy-MM-dd' }}</td>
          <td>{{ task.dueDate | date:'yyyy-MM-dd' }}</td>
          <td>{{ task.priority }}</td>
          <td data-label="Actions">
            <div class="btn-container">
              <button class="btn btn-info" (click)="onViewTask(task)">
                <i class="fa fa-eye"></i> View
              </button>
              <button class="btn btn-warning btn-sm" [routerLink]="['/tasks/edit', task._id]">
                🖊️ Edit
              </button>
              <button class="btn btn-danger" (click)="deleteTask(task._id)">
                🗑️ Remove
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
